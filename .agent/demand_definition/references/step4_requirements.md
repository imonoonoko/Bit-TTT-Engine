# Step 4: 要件定義ドキュメント生成

**目的**: ユーザー視点での要件定義書を作成

**重要**: このステップではプログラムの詳細（API仕様、データベーススキーマ、技術実装など）は記載しません。ユーザーの動きと体験に焦点を当てます。

## 出力内容

1. **機能概要**
2. **ユーザーストーリー**（As a / I want / So that）
3. **受け入れ条件**（Given / When / Then）
4. **非機能要件**（ユーザー体験に関わる部分のみ）

## ユーザーストーリー形式

```
As a [ユーザー種別]
I want [達成したいこと]
So that [得られる価値]
```

## 受け入れ条件形式

```
Given [前提条件]
When [アクション]
Then [期待される結果]
```

## 非機能要件

**ユーザー体験に関わる部分のみ記載**:
- **応答性**: レスポンス時間の目安（ユーザーが感じる速さ）
- **使いやすさ**: キーボード操作、モバイル対応など
- **アクセシビリティ**: スクリーンリーダー対応、色覚対応など
- **エラー時の挙動**: ユーザーへのフィードバック方法

**記載しない技術的詳細**:
- ❌ API エンドポイント仕様
- ❌ データベーススキーマ
- ❌ 具体的な技術スタック
- ❌ セキュリティ実装の詳細（SQLインジェクション対策など）
- ❌ 実装の優先順位やフェーズ分け

## ドキュメント構成

```markdown
# [機能名] 要件定義書

## 1. 機能概要
[1段落で機能の目的と価値を説明]

## 2. ユーザーストーリー
- As a ... I want ... So that ...

## 3. 受け入れ条件
### [ユーザーストーリー1]
- Given ... When ... Then ...

## 4. 非機能要件
### 応答性
- ユーザーが操作してから結果が表示されるまでの体感速度
...
```

## 出力先

セッションディレクトリ内の`4_requirements.md`に上記フォーマットで保存
