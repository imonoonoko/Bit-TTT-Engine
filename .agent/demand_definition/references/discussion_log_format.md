# ディスカッション議事録フォーマット

## 記録のルール（CRITICAL）

**絶対に守るべきルール**:

1. **既存の内容は絶対に編集・削除しない** - 履歴を保持するため
2. **必ず下から追記する** - 時系列順に記録
3. **変更があった場合は変更履歴として記録** - 初期決定と変更後の両方を残す
4. **ファイル全体を書き換えない** - Edit toolで追記のみ行う

## 記録フォーマット

各ステップでユーザーとの対話を行うたびに、`discussion_log.md`に以下の形式で**必ず追記**する：

```markdown
## [ステップ名] - YYYY-MM-DD HH:MM

### ユーザー発言
> [ユーザーの発言内容]

### Claude提案/質問
[Claudeの提案や質問内容]

### 決定事項
- [決まったこと]
- [却下されたこと]

### 理由/背景
[なぜその決定をしたのか]

---
```

## 記録タイミング

- ユーザーからの回答を受け取った時
- 重要な提案をした時
- 意思決定が行われた時
- ステップを完了した時

## 記録内容

- ユーザーの発言（そのまま引用）
- Claudeの提案や質問
- 決定事項（採用/却下）
- 決定の理由や背景
- コードベース調査の結果（重要な発見）

## 記録例

```markdown
## Step 2: 代替案・既存機能の検討 - 2025-01-15 10:30

### ユーザー発言
> カラムの順番は変えたくなくて...かつ、未着手に関しても、通常時は非表示にしておきたいかも

### Claude提案
4つの代替案を提示：
1. カラム順序変更 + 完了カラム非表示
2. 進行中カラムの幅を広げる
3. 完了カラムをアコーディオン式に折りたたむ
4. 完了カラムをサイドバー化

### 決定事項
- ❌ カラムの順序変更は却下
- ✅ 未着手も通常時は非表示にする
- ✅ 進行中カラムのみ表示 + トグルで未着手・完了を表示

### 理由/背景
- カラムの順序は既存のユーザー体験を維持したい
- 未着手も頻繁に見るわけではないので非表示にできる
- スクロール問題を完全に解決するため、1カラム表示が最適

---
```

## 変更履歴の記録方法

**初期決定を変更する場合**:

1. 既存の決定事項は**絶対に削除・編集しない**
2. ファイルの末尾に「[Step X修正]」セクションを追加
3. 何が変更されたか、なぜ変更されたかを明記

**変更履歴のフォーマット**:

```markdown
## [Step X修正] 変更内容の簡潔な説明 - YYYY-MM-DD HH:MM

### ユーザー発言
> [変更を促した発言]

### 変更内容
- ❌ 却下: [初期決定の内容]
- ✅ 採用: [新しい決定の内容]

### 理由/背景
[なぜ変更したのか]

### 影響を受けるステップ
- Step X: [初期決定のセクション名]

---
```
