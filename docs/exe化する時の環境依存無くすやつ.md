**Rustで作った`.exe`を他人に配布する場合、他人の環境にどれくらい依存するかは「どうやってビルドしたか」によってかなり変わります**。

2026年現在のRust（stable-msvcツールチェイン基準）で、現実的なパターンをまとめるとこんな感じです。

### 普通に`cargo build --release`した場合（デフォルト）

- **依存するもの**: **Microsoft Visual C++ Redistributable**（通称VC++ランタイム）が必要
  → 具体的には`vcruntime140.dll`とか`msvcp140.dll`とか`ucrtbase.dll`系
  → Windows 10/11の最新版なら大体入ってるけど、古いWindowsやクリーンインストールだと**入ってないことが結構ある**

- **エラーメッセージ例**（よく見るやつ）
  「このプログラムを開始するには、Microsoft Visual C++ 再頒布可能パッケージが必要です」

- **対策が必要な人**
  → 他人に配布するなら**VC++ Redistributableのインストーラーを一緒に配る**のが一番無難（公式から無料でダウンロード可）

### 完全に「他人の環境に依存したくない」場合（おすすめ）

Rustは簡単に**CRT（C Runtime）を静的リンク**できます。これが一番ポータブルです。

方法（一番簡単なやつ）

1. プロジェクトのルートに`.cargo/config.toml`（または`config`）を作成
2. 以下を追記

```toml
[target.x86_64-pc-windows-msvc]
rustflags = ["-C", "target-feature=+crt-static"]
```

（32bitなら`i686-pc-windows-msvc`に変えてください）

これで`cargo build --release`すると、**vcruntime140.dllとかucrtbase.dllとかへの依存がほぼ消えます**。

結果 → **ほぼWindowsさえあれば動く単一の.exe**になる（超便利！）

### 実際の依存度比較表（Windows向け）

ビルド方法                              | VC++ Redist必要？ | ucrtbase.dll依存 | ファイルサイズ | 他人への配布しやすさ | おすすめ度
---------------------------------------|-------------------|-------------------|----------------|----------------------|-----------
デフォルト（何もせず --release）       | 必要（高い確率）   | あり               | 小さい         | ★★☆☆☆               | △
`-C target-feature=+crt-static`        | **不要**           | **ほぼなし**       | 少し大きくなる | ★★★★★               | ★★★★★
x86_64-pc-windows-gnu（MinGW）         | 不要               | なし               | かなり大きく   | ★★★★☆               | ○（注意点あり）
musl + cross compile（Linuxから）      | 不要               | なし               | 中くらい       | ★★★★☆               | △（特殊）

### 現実的な結論（2026年現在）

- **普通に配布したいだけなら** → `.cargo/config.toml`に`+crt-static`を入れておくのが一番楽でトラブル少ない
- サイズが気になる・特殊な事情がある場合 → gnuターゲットも選択肢に入るけど、**MSVCターゲット＋静的CRT**が一番バランス良いです
- 「絶対に何もインストールさせたくない！」 → 静的リンク一択（それでも古すぎるWindowsだとたまにapi-ms-win-xxx系でコケることはあるけど稀）

つまり**「他人の環境は基本的に関係なくなる」**ようにできるのがRustの良いところですね🦀

配布前に一度`dumpbin /dependents your_app.exe`（Visual Studioのコマンド）で依存DLLをチェックすると安心ですよ〜！
