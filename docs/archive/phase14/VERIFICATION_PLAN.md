# Verification Plan: Phase 14

## 1. Automated Tests (CI/Unit)

### 1.1. Tokenizer Integrity
- **Test**: `vocab_test`
- **Input**: "ã“ã‚“ã«ã¡ã¯ã€ä¸–ç•Œï¼"
- **Expected**:
    - `Unigram` ãƒ¢ãƒ¼ãƒ‰ã§æ­£å¸¸ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰/ãƒ‡ã‚³ãƒ¼ãƒ‰ã§ãã‚‹ã“ã¨ã€‚
    - å…ƒã®æ–‡å­—åˆ—ã«å®Œå…¨ã«å¾©å…ƒã§ãã‚‹ã“ã¨ (`Round-trip consistency`)ã€‚
    - ãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒã€Œãƒã‚¤ãƒˆæ•°ã€ã‚ˆã‚Šã‚‚å¤§å¹…ã«å°‘ãªã„ã“ã¨ (åœ§ç¸®ã•ã‚Œã¦ã„ã‚‹ã“ã¨)ã€‚

### 1.2. Dataset Preprocessing
- **Test**: `data_pipeline_test`
- **Action**:
    1. Download dummy text.
    2. Convert to `.u32` using new tokenizer.
    3. Load with `BitLoader`.
- **Expected**: `BitLoader` ãŒã‚¨ãƒ©ãƒ¼ãªããƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿å‡ºã—ã€`Tokenizer::decode` ã§å…ƒã®ãƒ†ã‚­ã‚¹ãƒˆã«æˆ»ã‚‹ã€‚

### 1.3. Rare Character Handling (UNK Check)
- **Test**: `vocab_rare_char_test`
- **Input**: JISç¬¬3ãƒ»ç¬¬4æ°´æº–æ¼¢å­—ã‚„çµµæ–‡å­— (e.g. "ğ ®·", "ï¨‘", "ğŸ")
- **Expected**:
    - `Unigram` ãŒå¯èƒ½ãªé™ã‚Šæ–‡å­—ã‚’æ®‹ã™ã‹ã€é©åˆ‡ã« `UNK` ãƒˆãƒ¼ã‚¯ãƒ³ç­‰ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹ã“ã¨ã€‚
    - ByteLevel BPEã¸ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹ãŒã‚ã‚‹å ´åˆã¯ã€ãƒã‚¤ãƒˆåˆ—ã¨ã—ã¦ä¿æŒã•ã‚Œã‚‹ã“ã¨ã€‚
    - `UNK` ã ã‚‰ã‘ã«ãªã‚‰ãªã„ã“ã¨ (Vocab Size 48kã®åŠ¹æœç¢ºèª)ã€‚

## 2. Manual Verification (Quality Assurance)

### 2.1. Compression Ratio Check
- **Procedure**:
    1. æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆ 10KB ã‚’ç”¨æ„ã€‚
    2. ç¾åœ¨ã® `ByteLevel BPE` ã§ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚º â†’ ãƒˆãƒ¼ã‚¯ãƒ³æ•° Aã€‚
    3. æ–°ã—ã„ `Unigram` ã§ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚º â†’ ãƒˆãƒ¼ã‚¯ãƒ³æ•° Bã€‚
- **Criteria**: `B < A * 0.7` (30%ä»¥ä¸Šã®åŠ¹ç‡åŒ–) ã‚’é”æˆã™ã‚‹ã“ã¨ã€‚

### 2.2. "Speak Japanese" Test (End-to-End)
- **Procedure**:
    1. å°å‹ãƒ¢ãƒ‡ãƒ« (e.g. Dim=256, Layers=4) ã‚’æ—¥æœ¬èªãƒ‡ãƒ¼ã‚¿ã§1000ã‚¹ãƒ†ãƒƒãƒ—å­¦ç¿’ã€‚
    2. GUIã® Training Tab ã§ Loss æ›²ç·šã‚’ç¢ºèªã€‚
    3. Inference Tab ã§å˜ç´”ãªå˜èªç”Ÿæˆã‚’è©¦è¡Œã€‚
- **Criteria**:
    - **Primary**: Loss ãŒé †èª¿ã«æ¸›å°‘ã—ã¦ã„ã‚‹ã“ã¨ (å­¦ç¿’ãŒæˆç«‹ã—ã¦ã„ã‚‹è¨¼æ˜)ã€‚
    - **Secondary**: ç”Ÿæˆãƒ†ã‚­ã‚¹ãƒˆãŒæ–‡å­—åŒ–ã‘ï¼ˆãƒ‡ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼ï¼‰ã—ã¦ã„ãªã„ã“ã¨ã€‚
    - *Note*: 1000ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯æµæš¢ãªæ—¥æœ¬èªã¯æœŸå¾…ã—ãªã„ã€‚

## 3. Observability
- **Monitoring**:
    - å­¦ç¿’ä¸­ã®ãƒ­ã‚°ã« `decoded sample` ã‚’å®šæœŸçš„ã«å‡ºåŠ›ã•ã›ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ï¼ˆæ—¢ã«ä¸€éƒ¨ã‚ã‚‹ãŒã€æ—¥æœ¬èªãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã‹ç¢ºèªï¼‰ã€‚
